<div class="flex items-center justify-between flex-wrap gap-2 mb-6">
  <div>
    <h4 class="text-slate-900 text-lg font-medium mb-2"> ITI Allotment Report </h4>
    <div class="md:flex hidden items-center gap-3 text-sm font-semibold">
      <a routerLink="/dashboard" class="text-sm font-medium text-slate-700">Dashboard</a>
      <i class="material-symbols-rounded text-xl flex-shrink-0 text-slate-500">chevron_right</i>
      <a href="javascript:void(0);" class="text-sm font-medium text-slate-700">Reports</a>
      <i class="material-symbols-rounded text-xl flex-shrink-0 text-slate-500">chevron_right</i>
      <a [routerLink]="['/ITIAllotmentReport']" class="text-sm font-medium text-slate-700" aria-current="page">ITI Allotment Report</a>
    </div>
  </div>
  </div>

  <div class="card">
    <div class="card-body p-5">
      <div class="mb-8">
        <div class="flex justify-between flex-wrap items-center mb-3 p-3 py-2 bg-light">
          <b class="text-1xl-5"><i class="ti ti-search"></i> Enter Search Criteria</b>
        </div>
        <div class="grid 2xl:grid-cols-4 xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-2 grid-cols-1 gap-3">
          <div>
            <label class="text-gray-800 text-sm font-medium inline-block mb-1">Search By Trade Level:</label>
            <select class="form-select" [(ngModel)]="searchRequest.TradeLevelID">
              <option value="0">--Choose Option--</option>
              <option value="8">8th</option>
              <option value="10">10th</option>
              <option value="12">12th</option>
            </select>
          </div>

          <div>
            <label class="text-gray-800 text-sm font-medium inline-block mb-1"> Search By Trade Type: </label>
            <select class="form-select" [(ngModel)]="searchRequest.TradeTypeID">
              <option value="0">--Choose Option--</option>
              <option value="1">Eng</option>
              <option value="2">Non-Eng</option>
            </select>
          </div>

          <div>
            <label class="text-gray-800 text-sm font-medium inline-block mb-1"> Search By Trade: </label>
            <select class="form-select w-full" [(ngModel)]="searchRequest.TradeId">
              <option value="0" disabled selected hidden>--Choose Option--</option>
              <option *ngFor="let item of ItiTradeList" [value]="item.Id">{{item.TradeName}}</option>
            </select>
          </div>

          <div>
            <label class="text-gray-800 text-sm font-medium inline-block mb-1"> Search By ITI: </label>
            <select class="form-select" [(ngModel)]="searchRequest.CollegeId">
              <option value="0">---Choose College---</option>
              <option *ngFor="let item of ItiCollegesListAll" value="{{item.Id}}">{{item.Name}}</option>
            </select>
          </div>

          <div>
            <label class="text-gray-800 text-sm font-medium inline-block mb-1">
              Status: <span class="StarMarking">*</span>
            </label>
            <select class="form-select" id="ddlClass" [(ngModel)]="searchRequest.ReportingStatus">
              <option value="0">--Select--</option>
              <option value="1">Allotted</option>
              <option value="2">Choice Exhausted</option>
              <option value="3">Cancelled</option>
              <option value="4">Reported</option>
              <option value="5">Not Reported</option>
              <option value="6">Applied Upward</option>
              <option value="7">Rejected</option>
              <option value="8">Admitted</option>
              <option value="9">Withdrawal</option>
              <option value="10">Internal Sliding</option>
              <option value="11"> Reject With Deficiency</option>
              <option value="13">Dropout</option>
            </select>
          </div>


          <div>
            <button type="button" class="btn bg-info text-white mt-6" (click)="GetITIAllotmentReportList()">Search</button>
            <button type="button" class="btn bg-danger text-white mt-6" (click)="Reset()">Reset</button>
          </div>

        </div>

      </div>

      <div class="flex justify-between flex-wrap items-center mb-3 p-3 py-2 bg-light mt-3">
        <b class="text-1xl-5"><i class="ti ti-list"></i>List</b>
        <a href="javascript:void(0);" class="btn bg-info btn-sm text-white" (click)="ITIAllotmentReportExportToExcel()"><i class="ti ti-download"></i> Export Excel</a>
      </div>

      <div class="grid xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-1 gap-6">
        <div class="">
          <select id="ddlConter" class="form-select  couterDropDown" [(ngModel)]="pageInTableSize" (change)="loadInTable()">
            <option value="50">50</option>
            <option value="100">100</option>
            <option value="500">500</option>
            <option value="1000">1000</option>
          </select>
        </div>
        <div class="">
        </div>
        <div class="">
        </div>
        <div class="">
          <input class="form-input" placeholder="Search..." [(ngModel)]="Table_SearchText" />
        </div>
      </div>

      <!--Table-->
      <div class="overflow-x-auto mt-3">
        <table class="table table-border w-full table-auto" cellpadding="5">
          <thead class="bg-light/40 border-b border-gray-100 dark:bg-light/5 dark:border-b-gray-700 h-10">
            <tr>
              <th class="text-left" rowspan="2">#</th>
              <th class="text-left" rowspan="2">Application No</th>
              <th class="text-left" rowspan="2">College Name</th>
              <th class="text-left" rowspan="2">Name</th>
              <th class="text-left" rowspan="2">Father Name</th>
              <th class="text-left" rowspan="2">DOB</th>
              <th class="text-left" rowspan="2">Branch Name</th>
              <th class="text-left" rowspan="2">Mobile No</th>
              <th class="text-left" rowspan="2">Gender</th>
              <th class="text-left" rowspan="2">Alloted Category</th>
              <th class="text-left" rowspan="2">Alloted Status</th>
              <th class="text-left" rowspan="2">Priority</th>
            </tr>

          </thead>
          <tbody>
            <tr *ngFor="let item of paginatedInTableData | tableSearchFilter:Table_SearchText;let idx=index;">
              <td>{{ (startInTableIndex+1) + idx }}</td>
              <td>{{ item.ApplicationNo }}</td>
              <td>{{ item.CollegeName }}</td>
              <td>{{ item.Name }}</td>
              <td>{{ item.FatherName }}</td>
              <td>{{ item.DOB }}</td>
              <td>{{ item.BranchName }}</td>
              <td>{{ item.MobileNo }}</td>
              <td>{{ item.Gender }}</td>
              <td>{{ item.AllotedCategory }}</td>
              <td>{{ item.AllotmentStatus }}</td>
              <td>{{ item.Priority }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!--Pagination-->
    <div class="p-3 paginationBox flex items-center justify-end w-full">
      <span class="block">Record {{startInTableIndex+1}} - {{endInTableIndex}} of {{totalInTableRecord}}</span>
      <div class="paginationBoxItems flex items-center">
        <button (click)="firstInTablePage()" [disabled]="currentInTablePage==1">First</button>
        <button (click)="previousInTablePage()" [disabled]="currentInTablePage==1">Previous</button>
        <input type="number" min="1" max="{{totalInTablePage}}" title="Enter page no." [(ngModel)]="currentInTablePage"
               [disabled]="totalInTablePage==0" (change)="randamInTablePage()" />
        <span class="text-nowrap">Page {{currentInTablePage}} of {{totalInTablePage}}</span>
        <button (click)="nextInTablePage()" [disabled]="currentInTablePage==totalInTablePage || totalInTablePage==0">Next</button>
        <button (click)="lastInTablePage()" [disabled]="currentInTablePage==totalInTablePage || totalInTablePage==0">Last</button>
      </div>
    </div>
  </div>
