
<div class="card">
  <div class="card-body p-5">
    <div class="mb-6">
      <div class="flex justify-between items-center flex-wrap mb-3 p-3 py-2 bg-light">
        <b class="text-1xl-5">व्यक्तिगत विवरण (Personal Details)</b>
      </div>

      <div class="grid xl:grid-cols-4 lg:grid-cols-2 md:grid-cols-2 sm:grid-cols-1 gap-6 detailsList">
        <div class="col-span-2 text-center" style="text-align:center !important" *ngFor="let item of filteredDocumentDetails;">
          <img appImageError="assets/images/dummyImg.jpg"
               [src]="item.FileName!=''?appsettingConfig.StaticFileRootPathURL+'/'+item.FolderName+'/'+item.FileName:'assets/images/dummyImg.jpg'"
               class="imgSignSelf"
               alt="{{item.ColumnName}}" />
          <div class="text-center col-span-2" style="text-align:center !important">{{item.ColumnName}}</div>
        </div>

        <div *ngIf="request.ApplicationNo"><b>आवेदन संख्या (Application Number):</b></div>
        <div *ngIf="request.ApplicationNo">{{request.ApplicationNo}}</div>

        <div><b>आवेदक का नाम (Applicant's Name):</b></div>
        <div>{{request.StudentName}}</div>

        <div><b>आवेदक का नाम हिंदी में  (Applicant's Name in Hindi):</b></div>
        <div>{{request.StudentNameHindi}}</div>

        <div><b>पिता का नाम (Father's Name):</b></div>
        <div>{{request.FatherName}}</div>

        <div><b>पिता का नाम हिंदी में (Father's Name in Hindi):</b></div>
        <div>{{request.FatherNameHindi}}</div>

        <div><b>माता का नाम (Mother's Name):</b></div>
        <div>{{request.MotherName}}</div>

        <div><b>माता का नाम हिंदी में (Mother's Name in Hindi):</b></div>
        <div>{{request.MotherNameHindi}}</div>

        <div><b>आधार नंबर  (Aadhar Number):</b></div>
        <div>{{request.AadharNo}}</div>

        <div><b>लिंग (Gender):</b></div>
        <div>{{request.Gender}}</div>

        <div><b>धर्म  (Religion):</b></div>
        <div>{{request.Religion}}</div>

        <div><b>वैवाहिक स्थिति(Marital Status):</b></div>
        <div>{{request.MaritalStatusName}}</div>

        <div><b>जन्म तिथि (Date of Birth):</b></div>
        <div>{{request.DOB}}</div>

        <div><b>आयु (Age) :</b></div>
        <div>{{request.Age}}</div>

        <div><b>ईमेल (Email Address):</b></div>
        <div>{{request.Email}}</div>

        <div><b>मोबाइल नंबर (Mobile Number):</b></div>
        <div>{{request.MobileNo}}</div>

        <div>
          <b>श्रेणी ए(Category A)(Gen/SC/ST/OBC/MBC):</b>
        </div>
        <div>{{request.CategoryA}}</div>

        <div>
          <b>श्रेणी  बी (Category B):</b>
        </div>
        <div>{{request.CategoryB}}</div>

        <div>
          <b>श्रेणी सी (Category C):</b>
        </div>
        <div>{{request.CategoryC}}</div>

        <div><b>माता-पिता की आय (Parent's Income):</b></div>
        <div>{{request.ParentIncome}}</div>

        <div *ngIf="this.searchrequest.DepartmentID == _enumDepartment.ITI">
          <b>आवेदक की अपार आईडी (Applicant's ApaarId):</b>
        </div>
        <div>{{request.Apaarid}}</div>

      </div>

    </div>
    <div class="mb-6">
      <div class="flex justify-between items-center flex-wrap mb-3 p-3 py-2 bg-light">
        <b class="text-1xl-5">पते का विवरण (Address Details)</b>
      </div>

      <div class="grid xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-2 gap-6 detailsList">
        <div><b>पता पंक्ति 1 (Address Line 1):</b></div>
        <div>{{request.AddressLine1}}</div>

        <div><b>पता पंक्ति 2 (Address Line 2):</b></div>
        <div>{{request.AddressLine2}}</div>

        <div><b>पता पंक्ति 3 (Address Line 3):</b></div>
        <div>{{request.AddressLine3}}</div>

        <div><b>राज्य (State):</b></div>
        <div>{{request.StateName}}</div>

        <div><b>जिला (District):</b></div>
        <div>{{request.DistrictName}}</div>

        <div><b>ब्लॉक/तहसील (Block/Tehsil):</b></div>
        <div>{{request.BlockName}}</div>

        <div><b>शहर / गाँव (City/Village):</b></div>
        <div>{{request.CityVillage}}</div>

        <div><b>पिन कोड (Pincode):</b></div>
        <div>{{request.Pincode}}</div>
      </div>

    </div>
    <div class="mb-6">
      <div class="flex justify-between items-center flex-wrap mb-3 p-3 py-2 bg-light">
        <b class="text-1xl-5">योग्यता विवरण (Qualification Details)</b>
      </div>

      <div class="overflow-auto">
        <table class="w-full table-border" cellpadding="5">
          <thead class="bg-light/40 border-b border-gray-100 dark:bg-light/5 dark:border-b-gray-700">
            <tr class="text-left">
              <th>Qualification Level</th>
              <th>State of Study</th>
              <th>Board/University</th>
              <th>School/College</th>
              <th>Year of Passing</th>
              <th>Roll Number</th>
              <th>Marks Type</th>
              <th>Aggregate Maximum Marks</th>
              <th>Aggregate Marks Obtained</th>
              <th>Percentage</th>
              <th>Maths Maximum Marks</th>
              <th>Maths Marks Obtained</th>
              <th>Science Maximum Marks</th>
              <th>Science Marks Obtained</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of request.QualificationViewDetails">
              <td>{{item.QualificationName}}</td>
              <td>{{item.StateName}}</td>
              <td>{{item.BoardName || 'N/A'}}</td>
              <td>{{item.SchoolCollegeName || 'N/A'}}</td>
              <td>{{item.PassingYear}}</td>
              <td>{{item.RollNumber}}</td>
              <td>{{item.MarktypeName}}</td>
              <td>{{item.AggMaxMarks}}</td>
              <td>{{item.AggObtMarks}}</td>
              <td>{{item.Percentage}}</td>
              <td>{{item.MathsMaxMarks}}</td>
              <td>{{item.MathsObtMarks}}</td>
              <td>{{item.ScienceMaxMarks}}</td>
              <td>{{item.ScienceObtMarks}}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>


    <div class="mb-6" *ngIf="Options8thLevel.length > 0">
      <div class="flex justify-between items-center flex-wrap mb-3 p-3 py-2 bg-light">
        <b class="text-1xl-5">विकल्प(Option Form For 8th Level Trades)</b>
      </div>
      <div class="overflow-auto">
        <table class="w-full table-border" cellpadding="5">
          <thead class="bg-light/40 border-b border-gray-100 dark:bg-light/5 dark:border-b-gray-700">

            <tr class="text-left">
              <th>Priority</th>
              <th>Name of College</th>
              <th>Trade Name</th>
              <th>college Type</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of Options8thLevel;  let idx=index; ">
              <td>{{idx+1}}</td>
              <td>{{item.InstituteName}}</td>
              <td>{{item.TradeName}}</td>
              <td>{{item.ManagementTypeName}}</td>

            </tr>
          </tbody>
        </table>
      </div>

    </div>

    <div class="mb-6" *ngIf="Options10thLevel.length > 0">
      <div class="flex justify-between items-center flex-wrap mb-3 p-3 py-2 bg-light">
        <b class="text-1xl-5">विकल्प(Option Form for 10th Level Trades)</b>
      </div>
      <div class="overflow-auto">
        <table class="w-full table-border" cellpadding="5">
          <thead class="bg-light/40 border-b border-gray-100 dark:bg-light/5 dark:border-b-gray-700">

            <tr class="text-left">
              <th>Priority</th>
              <th>Name of College</th>
              <th>Trade Name</th>
              <th>college Type</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of Options10thLevel;  let idx=index; ">
              <td>{{idx+1}}</td>
              <td>{{item.InstituteName}}</td>
              <td>{{item.TradeName}}</td>
              <td>{{item.ManagementTypeName}}</td>

            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <div class="mb-6" *ngIf="Options12thLevel.length > 0">
      <div class="flex justify-between items-center flex-wrap mb-3 p-3 py-2 bg-light">
        <b class="text-1xl-5">विकल्प(Option Form For 12th Level Trades)</b>
      </div>
      <div class="overflow-auto">
        <table class="w-full table-border" cellpadding="5">
          <thead class="bg-light/40 border-b border-gray-100 dark:bg-light/5 dark:border-b-gray-700">

            <tr class="text-left">
              <th>Priority</th>
              <th>Name of College</th>
              <th>Trade Name</th>
              <th>college Type</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of Options12thLevel;  let idx=index; ">
              <td>{{idx+1}}</td>
              <td>{{item.InstituteName}}</td>
              <td>{{item.TradeName}}</td>
              <td>{{item.ManagementTypeName}}</td>

            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <div class="flex justify-between items-center mb-3 p-3 py-2 bg-light ">
      <b class="text-1xl-5">
        &nbsp;
        अपलोड किए गए दस्तावेज़ (Uploaded Documents)
      </b>
    </div>

    <div class="overflow-auto mb-6">
      <table class="w-full table-border" cellpadding="5">
        <thead class="bg-light/40 border-b border-gray-100 dark:bg-light/5 dark:border-b-gray-700">
          <tr class="text-left">
            <th>Sr. No.</th>
            <th>Document Name</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let dOC of request.DocumentDetailList  let idx=index; ">
            <td>{{idx+1}}</td>
            <td>
              <!--<a target="_blank" href="{{appsettingConfig.StaticFileRootPathURL}}/{{dOC.FolderName}}/{{dOC.FileName}}" class="text-success">{{dOC.ColumnName}}</a>-->
              <a href="javascript:void(0)"
                 (click)="openPdfModal(appsettingConfig.StaticFileRootPathURL + dOC.FolderName + '/' + dOC.FileName)"
                 class="text-success">
                {{ dOC.DisplayColumnNameEn }}
              </a>
            </td>
          </tr>
          <tr *ngIf="request.DocumentDetailList?.length==null">
            <td colspan="7">No Document Uploaded</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="flex justify-between items-center mb-3 p-3 py-2 bg-light" *ngIf="IsShowIncompleteData">
      <b class="text-1xl-5">Incomplete Data</b>
    </div>

    <div class="overflow-auto" *ngIf="IsShowIncompleteData">
      <table class="w-full table-border" cellpadding="5">
        <thead class="bg-light/40 border-b border-gray-100 dark:bg-light/5 dark:border-b-gray-700">
          <tr class="text-left">
            <th>Sr. No.</th>
            <th>Pending Data</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of request.PendingDataModel  let idx=index; ">
            <td>{{idx+1}}</td>
            <td>{{item.Pending}}</td>
            <td><button class="btn bg-info text-white" (click)="Changetab(item.Index)" type="button">Click here for upload</button></td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="mb-6">
      <div class="flex justify-between items-center flex-wrap mb-3 p-3 py-2 bg-light">
        <b class="text-1xl-5">घोषणा (Undertaking)</b>
      </div>
      <div class="w-full">
        <label>
          <input [disabled]="!ShowfinalLButton" type="checkbox" class="mb-3 me-3" [(ngModel)]="IsTermAndCondition" />
          मेरे द्वारा यह प्रमाणित किया जाता है कि मैंने आवेदन पत्र भरने से पूर्व प्रवेश के सम्बन्ध में सभी दिशा निर्देश तथा नियम भलीभांति से पढ़ लिये है। ऑनलाइन आवेदन पत्र मे मेरे द्वारा भरी गयी सभी सूचनाएं सत्य एवं सही है। मेरे द्वारा यह भी प्रमाणित किया जाता है कि मुझे किसी भी संस्थान द्वारा पूर्व में कभी भी निष्काषित नहीं किया गया है।
          मेरे द्वारा दी गयी कोई सूचना गलत पाई जाती है तो भविष्य में विभाग द्वारा मेरा प्रवेश निरस्त किया जा सकता है तथा मेरे विरुद्ध आई.पी.सी. की सम्बन्धित धारा के अंतर्गत नियमानुसार कार्यवाही की जा सकती है, जिसकी सम्पूर्ण जिम्मेवारी मेरी होगी। यदि मुझे प्रवेश प्राप्त होता है तो मेरे द्वारा संस्थान के सभी नियम एवं अनुशासन का पालन करते हुए पूर्ण प्रशिक्षण प्राप्त किया जाएगा| मेरे द्वारा ऐसा कोई कृत्य नहीं किया जायेगा जो की शान्ति एवं अनुशासन के विपरीत हो, अन्यथा मुझे संस्थान से निष्काषित किया जा सकेगा। यदि मुझे प्रवेश प्राप्त होता है, तो मैं स्वयं के स्तर पर बीमा करवाकर बीमा पॉलिसी की प्रीति प्रवेश तिथि से 15 दिवस के भीतर सम्बन्धित संस्थान में प्रस्तुत करने की  संपूर्ण जिम्मेदारी मेरी होगी।



          <!--<ul style="float: RIGHT;list-style: auto;margin-left: 14px;">
            <li>
              मैं घोषणा करता/करती हूँ कि मेरे पास आधार संख्या, वैध मोबाइल नंबर एवं ईमेल आईडी उपलब्ध है,
              जिन्हें मैं प्रवेश प्रक्रिया प्रारंभ होने से लेकर प्रशिक्षण पूर्ण होने तक सक्रिय रखूँगा/रखूँगी।
            </li>
            <li>
              मैं यह भी पुष्टि करता/करती हूँ कि पिछले सत्र में मेरी किसी अन्य सीटीएस (क्राफ्ट्समैन ट्रेनिंग स्कीम) कोर्स में सक्रिय प्रवेश नहीं है।
              मुझे ज्ञात है कि यदि मेरा कोई अन्य सक्रिय प्रवेश पाया गया, तो मेरी वर्तमान प्रवेश प्रक्रिया बिना किसी सूचना के रद्द कर दी जाएगी।
            </li>
            <li>
              मैं जानता/जानती हूँ कि मेरी प्रवेश की पुष्टि तभी होगी जब मैं प्रशिक्षार्थी सत्यापन प्रक्रिया पूर्ण कर लूँगा/लूँगी,
              जिसके पश्चात ही एक अद्वितीय पीआरएन आईडी जनरेट की जाएगी।
            </li>
            <li>
              यदि मुझे प्रवेश प्रदान किया जाता है, तो मैं प्रवेश की तिथि से 15 दिनों के भीतर स्वयं संबंधित संस्थान (सरकारी/प्राइवेट आईटीआई)
              में जाकर शुल्क का भुगतान करूँगा/करूँगी तथा इससे संबंधित समस्त जिम्मेदारी मेरी होगी।
            </li>
          </ul>-->

        </label>
      </div>

    </div>

    <div class="w-full text-center mt-4">
      <!--<button type="button" *ngIf="ShowfinalLButton && isITIAddmissionOpen" class="btn bg-primary text-white" (click)="SaveFinalSubmit() "><i class="ti ti-device-floppy"></i>Lock & Final Submit</button>-->
      <button type="button" *ngIf="ShowfinalLButton && isITIAddmissionOpen" class="btn bg-primary text-white" (click)="SaveFinalSubmit(MyModel_PreviewDetails)"><i class="ti ti-inr"></i>Submit</button>
      <button type="button" *ngIf="!ShowfinalLButton && !ShowPaymentButton && isITIAddmissionOpen" class="btn bg-success text-white" (click)="DownloadApplicationForm()"><i class="ti ti-inr"></i>Download</button>
    </div>
  </div>
</div>

<ng-template #MyModel_PreviewDetails let-modal class="w-full h-full fixed top-0 left-0 z-[80] transition-all duration-500 overflow-y-auto [--overlay-backdrop:static] ">
  <div class="modal-content">
    <div class="card">
      <div class="card-header flex justify-between items-center">
        <b><i class="fa fa-inr"></i> Please pay the application form fee for proceeding in the application status</b>
        <button class="btn bg-info text-white" (click)="CloseModel()"><i class="ti ti-x"></i></button>
      </div>
      <div class="card-body p-5">
        <div class="grid xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-2 gap-6 detailsList">

          <div><b>आवेदक का नाम (Applicant's Name):</b></div>
          <div>{{request.StudentName  }}</div>

          <!--<div><b>आवेदक का नाम हिंदी में  (Applicant's Name in Hindi):</b></div>
          <div>{{request.StudentNameHindi  }}</div>-->

          <div><b>पिता का नाम (Father's Name):</b></div>
          <div>{{request.FatherName  }}</div>

          <!--<div><b>पिता का नाम हिंदी में (Father's Name in Hindi):</b></div>
          <div>{{request.FatherNameHindi  }}</div>-->

          <div><b>माता का नाम (Mother's Name):</b></div>
          <div>{{request.MotherName  }}</div>

          <!--<div><b>माता का नाम हिंदी में (Mother's Name in Hindi):</b></div>
          <div>{{request.MotherNameHindi  }}</div>-->
          <!--<div><b>आधार नंबर  (Aadhar Number):</b></div>
          <div>{{request.AadharNo  }}</div>-->


          <div><b>लिंग (Gender):</b></div>
          <div>{{request.Gender  }}</div>

          <div><b>जन्म तिथि (Date of Birth):</b></div>
          <div>{{request.DOB  }}</div>

          <div>
            <b>श्रेणी ए(Category A)(Gen/SC/ST/OBC/MBC/EWS):</b>
          </div>
          <div>{{request.CategoryA}}</div>

          <div><b>मोबाइल नंबर (Mobile Number):</b></div>
          <div>{{request.MobileNo  }}</div>
          <div><b>सेवा आईडी (Service ID):</b></div>
          <div>{{request.ServiceID}}</div>

          <div><b>आवेदन शुल्क (Application Fees):</b></div>
          <div>{{request.ApplicationFees}}</div>

          <div><b>संसाधन शुल्क (Processing Fees):</b></div>
          <div>{{request.ProcessingFee}}</div>
          <div><b>कुल शुल्क (Total Fees):</b></div>
          <div>{{request.ProcessingFee+request.ApplicationFees}}</div>
        </div>
      </div>

      <div class="card-footer text-center">

        <!--<button type="button" *ngIf="ShowPaymentButton" class="btn bg-primary text-white" (click)="PayApplicationFees() "><i class="ti ti-currency-rupee"></i> Pay Now</button>-->



        <button class="btn bg-primary text-white" *ngIf="ShowfinalLButton" [disabled]="isLoading" (click)="PayApplicationFees()">
          <span *ngIf="!isLoading"><i class="ti ti-currency-rupee"></i> Pay Now</span>
          <span *ngIf="isLoading">
            <i class="fa fa-spinner fa-spin"></i> Processing...
          </span>
        </button>



        <span *ngIf="!ShowPaymentButton">Or </span>
        <button type="button" *ngIf="ShowfinalLButton" class="btn bg-info text-white" (click)="DownloadChallan(searchrequest.ApplicationID)"><i class="ti ti-download"></i>Download Challan and kindly visit your nearest emitra counter to pay the fee</button>
        <div class="col-span-2 pt-5" *ngIf="request.TransactionID>0">

          <p class="text-danger">In case your transaction got failed, To verify your payment, please click on <b>Verify</b> button<br /> <button (click)="CheckPaymentSataus()" class="text-center text-white bg-success btn" style="margin-left:15px"><i class="ti ti-currency-rupee"></i> Verify Button</button></p>
        </div>

      </div>
    </div>
  </div>
</ng-template>



<div *ngIf="showPdfModal" class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 DocViewers">
  <div class="bg-white rounded-lg shadow-xl relative p-4 overflow-hidden flex flex-col" style="width:60%;height:90%;">

    Header
    <div class="flex justify-between items-center border-b pb-2">
      <b class="text-lg"><i class="fa fa-plus"></i>&nbsp;Document Preview</b>
      <button class="btn bg-info text-white" (click)="ClosePopupAndGenerateAndViewPdf()">
        <i class="ti ti-x"></i>
      </button>
    </div>

    Preview Content
    <div class="flex-grow mt-4 overflow-hidden flex justify-center items-center" style="width:100%;height:100%;">

      <ng-container *ngIf="showPdfModal">
        PDF Preview
        <object *ngIf="isPdf && safePdfUrl"
                [data]="safePdfUrl"
                type="application/pdf"
                class="h-full w-full"
                style="width: 100%; height: 100%;">
          <p>PDF preview not supported. <a [href]="pdfUrl" target="_blank">Download</a> instead.</p>
        </object>

        Image Preview
        <img *ngIf="isImage"
             [src]="imageSrc"
             (error)="onImageError($event)"
             alt="Document preview"
             class="h-full w-full object-contain rounded-lg" />
      </ng-container>

      <pdf-viewer [src]="safePdfUrl" [render-text]="true" style="display: block;"></pdf-viewer>
    </div>

  </div>
</div>
