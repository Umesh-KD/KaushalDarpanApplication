
<div class="flex items-center justify-between flex-wrap gap-2 mb-6">
  <div>
    <h4 class="text-slate-900 text-lg font-medium mb-2">Dispatch Send To ITI From Center / Received </h4>

    <div class="md:flex hidden items-center gap-3 text-sm font-semibold">

      <span>Dispatch Send To ITI / Received From Center List</span>

    </div>
  </div>

</div>


<div class="grid xl:grid-cols-1 lg:grid-cols-1 md:grid-cols-1 gap-6">
  <div class="card tab-panels">
    <div class="card-body p-5">
      <div class="mb-8">
        <div class="flex justify-between items-center flex-wrap mb-3 p-3 py-2 bg-light">
          <b class="text-1xl-5"><i class="ti ti-search"></i> Search Filter</b>
          <span class="text-danger"></span>
        </div>
        <div class="grid xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-2 sm:grid-col-1 gap-3 mb-3">


          <div class="mb-3">
            <label class="text-gray-800 text-sm font-medium inline-block mb-1">Search By Dispatch Status Type</label>
            <select class="form-select ng-pristine ng-valid ng-touched" [(ngModel)]="Searchrequest.Status" >
              <option value="0" ng-reflect-value="0">--Select--</option>
              @for (item of StatusTypelist; track item) {
              <option [value]="item.ID">{{item.Name}}</option>
              }
            </select>
          </div>

          <div>
            <button type="button" class="btn bg-info text-white mt-6" (click)="getgroupData()">Search</button>
            <!--<button type="button" class="btn bg-danger text-white mt-6" (click)="ResetControl()">Cancel</button>-->
          </div>

        </div>
       
        <div class="flex justify-end mt-3"*ngIf="statusCh == _DispatchDDlValue.SendToBterFromCenter" >
          <button type="button" class="btn bg-primary text-white" (click)="submitSelected()">
            <i class="ti ti-device-floppy"></i> {{btnText}}
          </button>
        </div>


        <div class="overflow-x-auto mt-3">

          <table class="table table-border w-full table-auto" cellpadding="5" *ngIf="statusCh == _DispatchDDlValue.SendToBterFromCenter">
            <thead class="bg-light/40 border-b border-gray-100 dark:bg-light/5 dark:border-b-gray-700 h-10">
              <tr>
                <th class="text-left"> <input type="checkbox" [(ngModel)]="isAllSelected" (change)="toggleAllSelection()" /></th>
                <th class="text-left">
                  SR NO
                </th>
                <th class="text-left">Dispatch Date</th>
                <th class="text-left">Company Name</th>
                <th class="text-left">Challan No</th>
                <th class="text-left">Status</th>
                <th class="text-left">Bundel Details</th>
                <th class="text-left">Recipient Date</th>

              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of DispatchMasterSendToBterFromCenterList; let idx = index;">

                <td align="left" *ngIf="statusCh == _DispatchDDlValue.SendToBterFromCenter">  <input type="checkbox" [(ngModel)]="item.selected" (change)="checkIfAllSelected()" /></td>
                <td align="left">

                  {{ idx + 1 }}
                </td>
                <td align="left">{{ item.DispatchDate }}</td>
                <td align="left">{{ item.CompanyName }}</td>
                <td align="left">{{ item.ChallanNo }}</td>
                <td align="left">{{ item.Status }}</td>
                <td align="left">{{ item.BundalNo }}</td>
                <td>
                  {{ item.RecipientDate && item.RecipientDate !== '01-01-1900' ? item.RecipientDate : 'N/A' }}
                </td>
              </tr>
            </tbody>
          </table>
        </div>



        <div class="overflow-x-auto mt-3" *ngIf="statusCh == _DispatchDDlValue.ReceivedAtBterFromCenter">

          <table class="table table-border w-full table-auto" cellpadding="5">
            <thead class="bg-light/40 border-b border-gray-100 dark:bg-light/5 dark:border-b-gray-700 h-10">
              <tr>

                <th class="text-left">
                  SR NO
                </th>

                <th class="text-left">Dispatch Date</th>
                <th class="text-left">Company Name</th>
                <th class="text-left">Challan No</th>
                <th class="text-left">Status</th>
                <th class="text-left">Bundel Details</th>
                <th class="text-left">Recipient Date</th>
                <th class="text-center">Action</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of DispatchMasterListReceivedAtBterFromCenter; let idx = index;">
                <td align="left">

                  {{ idx + 1 }}
                </td>
                <td align="left">{{ item.DispatchDate }}</td>
                <td align="left">{{ item.CompanyName }}</td>
                <td align="left">{{ item.ChallanNo }}</td>
                <td align="left">{{ item.Status }}</td>
                <td align="left">{{ item.BundalNo }}</td>
                <td>
                  {{ item.RecipientDate && item.RecipientDate !== '01-01-1900' ? item.RecipientDate : 'N/A' }}
                </td>
                <td class="text-center">
                  <div class="flex align-center justify-center actionBtns w-auto"
                       style="width:auto !important">
                    <!--{{ item.Dis_DownloadFile }}-->
                    <!--<button class="btn btn-sm btn-danger" (click)="DownloadFile(item.DispatchID)">Download File</button>-->

                    <a href="javascript:void(0);" title="Download"><i class="ti ti-download" (click)="DownloadFileReceived(item.DispatchID)"></i></a>
                    </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>

      </div>
    </div>
  </div>
</div>
<app-otpmodal #otpModal></app-otpmodal>



