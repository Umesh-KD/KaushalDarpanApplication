<!-- Page Title Start -->
<div class="flex items-center justify-between flex-wrap gap-2 mb-6">
  <div>
    <h4 class="text-slate-900 text-lg font-medium mb-2">Set Calendar</h4>

    <!--<div class="md:flex hidden items-center gap-3 text-sm font-semibold">-->
      <!--<a href="/public-info-list" class="text-sm font-medium text-slate-700" aria-current="page">Public Info</a>-->
      <!--<a [routerLink]="['/public-info-list']" class="text-sm font-medium text-slate-700" aria-current="page">Public Info</a>
      <i class="material-symbols-rounded text-xl flex-shrink-0 text-slate-500">chevron_right</i>
      <a routerLink="/add-public-info" class="text-sm font-medium text-slate-700" aria-current="page">Add Public Info</a>
    </div>-->
  </div>
  <!--<a routerLink="/public-info-list" class="inline-flex items-center btn bg-dark text-white btn-sm"><i class="ti ti-chevron-left"></i> Back</a>-->
</div>
<!-- Page Title End -->
<div class="grid xl:grid-cols-1 lg:grid-cols-1 md:grid-cols-1 gap-6 mb-6">
  <div class="card">
    <div class="card-body p-5">
      <div class="mb-8">
        <div class="flex justify-between flex-wrap items-center mb-3 p-3 py-2 bg-light">
          <b class="text-1xl-5"><i class="ti ti-plus"></i> Months Wise Teacaher Calendar</b>
        </div>
        <div style="text-align:center; margin-bottom: 15px;">
          <button (click)="prevMonth()">&#8592; Previous</button>

          <span style="font-weight: bold; margin: 0 15px;">
            {{ monthName }}
            <input type="number" [value]="year" (change)="onYearChange($event)"
                   style="width: 70px; text-align:center;" min="1900" max="2100" />
          </span>

          <button (click)="nextMonth()">Next &#8594;</button>

          <!-- Save All Button -->
          <button (click)="saveAllEvents()">Save All</button>
        </div>

        <table border="1" cellpadding="10" cellspacing="0" style="border-collapse: collapse; text-align: center; width: 80%; margin: auto;">
          <tr>
            <th *ngFor="let day of weekDays">{{ day }}</th>
          </tr>

          <tr *ngFor="let week of [].constructor(6); let w = index">
            <td *ngFor="let d of weekDays; let i = index"
                [class.empty]="(w*7 + i) < startDay || (w*7 + i - startDay + 1) > monthDays.length"
                [class.holiday]="getEvent(w*7 + i - startDay + 1)?.EventType === 'Holiday'"
                [class.exam]="getEvent(w*7 + i - startDay + 1)?.EventType === 'Exam'"
                (click)="onDateClick(w*7 + i - startDay + 1)"
                style="position: relative; cursor: pointer;">

              <ng-container *ngIf="(w*7 + i) >= startDay && (w*7 + i - startDay + 1) <= monthDays.length">
                {{ w*7 + i - startDay + 1 }}
                <span class="tooltip" *ngIf="getEvent(w*7 + i - startDay + 1)?.Remark">
                  {{ getEvent(w*7 + i - startDay + 1)?.Remark }}
                </span>
              </ng-container>
            </td>
          </tr>
        </table>
        <!--{{ eventsList|json }}-->
      </div>
    </div>
  </div>
</div>
<!-- end row -->
