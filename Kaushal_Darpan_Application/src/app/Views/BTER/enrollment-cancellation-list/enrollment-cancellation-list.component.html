
<div class="flex items-center justify-between flex-wrap gap-2 mb-6">
  <div>
    <h4 class="text-slate-900 text-lg font-medium mb-2">Student</h4>

    <div class="md:flex hidden items-center gap-3 text-sm font-semibold">
      <a routerLink="/dashboard" class="text-sm font-medium text-slate-700">Student</a>
      <i class="material-symbols-rounded text-xl flex-shrink-0 text-slate-500">chevron_right</i>
      <a href="javascript:void(0);" class="text-sm font-medium text-slate-700" aria-current="page">Student Enrollment Cancelation</a>
    </div>
  </div>
</div>
<!-- Page Title End -->

<div class="card">
  <div class="card-body p-5">

    <!--<div class="mb-8">
      <form [formGroup]="searchssoform">
        <div class="flex justify-between flex-wrap items-center mb-3 p-3 py-2 bg-light">
          <b class="text-1xl-5"><i class="ti ti-map"></i> Student Enrollment Cancelation  </b>
     <a routerLink="/PayExamFee" class="btn bg-info text-white"><i class="ti ti-currency-rupee"></i>Pay Exam Fee Without Map</a>
    </div>-->
    <div class="grid 2xl:grid-cols-4 xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-2 grid-cols-1 gap-3">


      <div>
        <label class="text-gray-800 text-sm font-medium inline-block mb-1">
          Enrollment Cancellation Status
        </label>

        <select class="form-input"
                [(ngModel)]="searchRequest.Status"
                name="Status"
                #statusCtrl="ngModel"
                required>
          <option value="0" disabled selected>Select Status</option>
          <option *ngFor="let status of statusOptions" [value]="status.value">
            {{ status.label }}
          </option>
        </select>

        <!--<div *ngIf="isSubmitted && statusCtrl.errors" class="text-danger">
          <p *ngIf="statusCtrl.errors.required">This field is required.!</p>
        </div>-->
      </div>


      <div>
        <button type="button" class="btn bg-info text-white mt-6 me-1" (click)="onSearchClick()"><i class="ti ti-search"></i>Search</button>
        <button type="button" id="btnReset" (click)="ResetControl()" class="btn bg-danger text-white"><i class="ti ti-refresh"></i> Reset</button>
      </div>
    </div>
    <!--</form>-->
  </div>
  <div class="flex justify-between flex-wrap items-center mb-3 p-3 py-2 bg-light" *ngIf="isShowGrid">
    <b class="text-1xl-5"><i class="ti ti-list"></i> Search Results</b>
    <a href="javascript:void(0);" class="btn bg-info btn-sm text-white" (click)="exportToExcel()"><i class="ti ti-download"></i> Download Excel Data</a>
  </div>
  <div class="grid 2xl:grid-cols-4 xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-2 grid-cols-1 gap-3">

  </div>
  <div class="overflow-x-auto mt-3" *ngIf="isShowGrid">
    <table class="table table-border w-full table-auto" cellpadding="5">
      <thead class="bg-light/40 border-b border-gray-100 dark:bg-light/5 dark:border-b-gray-700 h-10">
        <tr>
          <th class="text-left">#</th>
          <th class="text-left">Student Name</th>
          <th class="text-left">Mother Name</th>
          <th class="text-left">Father Name</th>
          <th class="text-left">DOB</th>
          <th class="text-left">Institute Name</th>
          <th class="text-left">Stream Name</th>
          <th class="text-left">Enrollment No.</th>
          <th class="text-left">Document</th>
          <th class="text-left">Revert Remark</th>
          <th class="text-Center">Action</th>
          <th class="text-Center">Migration-Certificate</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let row of StudentDetailsModelList ; let idx=index;">
          <td>{{idx+1}}</td>
          <td>{{row.StudentName}}</td>
          <td>{{row.MotherName}}</td>
          <td>{{row.FatherName}}</td>
          <td>{{row.DOB}}</td>
          <td>{{row.InstituteName}}</td>
          <td>{{row.StreamName}}</td>
          <td>{{row.EnrollmentNo}}</td>

          <td class="text-center">
            <a class="btn bg-success text-white" type="button" title="View" target="_blank" href="{{appsettingConfig.StaticFileRootPathURL + '/' + row.ENRCancelDoc}}">
              <i class="ti ti-eye"></i>
            </a>
          </td>
          <td>{{row.Remark}}</td>

          <td>
            <ng-container *ngIf="row.Status == 297; else normalStatus">
              <ng-container [ngSwitch]="row.ActionBy">
                <span *ngSwitchCase="7">Revert By Principal</span>
                <span *ngSwitchCase="38">Revert By ExamIncharge</span>
                <span *ngSwitchCase="40">Revert By Registrar</span>
                <span *ngSwitchCase="2">Revert By Admin</span>
                <span *ngSwitchCase="206">Revert By IT-Cell</span>
                <span *ngSwitchCase="205">Revert By SectionIncharge</span>
                <span *ngSwitchDefault>Revert</span>
              </ng-container>
            </ng-container>

            <ng-template #normalStatus>
              <ng-container [ngSwitch]="row.Status">
                <span *ngSwitchCase="205">Section Incharge Requested</span>
                <span *ngSwitchCase="3">Student Requested</span>
                <span *ngSwitchCase="7">Principal Approved</span>
                <span *ngSwitchCase="38">Exam Incharge Approved</span>
                <span *ngSwitchCase="40">Registrar Approved</span>
                <span *ngSwitchCase="2">Admin Approved</span>
                <span *ngSwitchCase="206">Dropout</span>
                <span *ngSwitchDefault>Pending</span>
              </ng-container>
            </ng-template>
          </td>

          <td *ngIf="row.Status == 206">
            <a href="javascript:void(0);"
               (click)="CertificateDownload(row)" title="Migration Certificate"
               class="btn bg-info btn-sm text-white">
              <i class="ti ti-download"></i> Download Migration
            </a>
          </td>

        </tr>
        <tr *ngIf="StudentDetailsModelList?.length === 0"><td colspan="15"> No records found</td></tr>
      </tbody>
    </table>
  </div>
</div>
