
<div class="flex items-center justify-between flex-wrap gap-2 mb-6">
  <div>
    <h4 class="text-slate-900 text-lg font-medium mb-2">Dispatch Principal GroupCode</h4>

    <div class="md:flex hidden items-center gap-3 text-sm font-semibold">

      <span>Dispatch Principal GroupCode </span>

    </div>
  </div>

</div>



<div class="grid xl:grid-cols-1 lg:grid-cols-1 md:grid-cols-1 gap-6">
  <div class="card tab-panels">
    <div class="card-body p-5">
      <div class="mb-3">
        <div class="flex justify-between items-center flex-wrap mb-3 p-3 py-2 bg-light">
          <b class="text-1xl-5"><i class="ti ti-search"></i> Search Filter</b>
          <span class="text-danger"></span>


        </div>

        <div class="grid xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-2 sm:grid-col-1 gap-3 mb-3">

          <div>
            <label class="text-gray-800 text-sm font-medium inline-block mb-1">Dispatch No</label>
            <select class="form-select ng-pristine ng-valid ng-touched" [(ngModel)]="Searchrequest.Status" [disabled]="isUpdateMode">
              <option value="0" ng-reflect-value="0">--Select--</option>
              @for (item of DispatchNolist; track item) {
              <option [value]="item.ID">{{item.Name}}</option>
              }
            </select>
          </div>
          <div *ngIf="IsHandOverToPrincipalByExaminer == false"><span> Please Verify All Group Code  Hand Over To Principal By Examiner</span></div>

          <div *ngIf="IsAlready == true"><span>  This Group Code Already Save </span></div>

          
          <div>
            <button type="button" class="btn bg-info text-white mt-6" (click)="ListFilter()">Search</button>
            <button type="button" class="btn bg-danger text-white mt-6" (click)="ResetControl()">Cancel</button>
          </div>

        </div>
        <div>




          <div class="flex justify-between items-center flex-wrap mb-3 p-3 py-2 bg-light">
            <b class="text-1xl-5">Dispatch Principal to Bter</b>
            <span class="text-danger"></span>
            <a routerLink="/DispatchPrincipalGroupCodeList" class="inline-flex items-center btn bg-dark text-white btn-sm"><i class="ti ti-chevron-left"></i> Back</a>
          </div>
          <form [formGroup]="DispatchForm">
            <div class="grid xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-2 sm:grid-col-1 gap-3 mb-3">

              <div>
                <label for="DispatchDate" class="text-gray-800 text-sm font-medium inline-block mb-2">
                  Dispatch: <!--<span class="StarMarking">*</span>-->
                </label>
                <input type="date" class="form-input" id="DispatchDate" name="DispatchDate" formControlName="txtDispatchDate"
                       [(ngModel)]="request.DispatchDate">
                <div *ngIf="isSubmitted && _DispatchForm.txtDispatchDate.errors" class="text-danger">
                  <p *ngIf="_DispatchForm.txtDispatchDate.errors.required"><i aria-hidden="true"></i> This field is required!</p>
                </div>
              </div>

              <!--<div>
    <label for="txtCompanyName" class="text-gray-800 text-sm font-medium inline-block mb-2">Company Name:-->
              <!--<span class="StarMarking">*</span>-->
              <!--</label>
    <input type="text" class="form-input" id="txtCompanyName" placeholder="Enter Company Name" formControlName="txtCompanyName" [(ngModel)]="request.CompanyName">
    <div *ngIf="isSubmitted && _DispatchForm.txtCompanyName.errors" class="text-danger">
      <p *ngIf="_DispatchForm.txtCompanyName.errors.required">
        <i aria-hidden="true"></i> This field is
        required.!
      </p>
    </div>
  </div>-->

              <div>
                <label for="txtChallanNo" class="text-gray-800 text-sm font-medium inline-block mb-2">Challan No:<!--<span class="StarMarking">*</span>--></label>
                <input type="text" class="form-input" id="txtChallanNo" placeholder="Enter Challan No" formControlName="txtChallanNo" [(ngModel)]="request.ChallanNo" [readonly]="isUpdateMode">
                <div *ngIf="isSubmitted && _DispatchForm.txtChallanNo.errors" class="text-danger">
                  <p *ngIf="_DispatchForm.txtChallanNo.errors.required">
                    <i aria-hidden="true"></i> This field is
                    required.!
                  </p>
                </div>
              </div>


              <div>
                <label class="text-gray-800 text-sm font-medium inline-block mb-1">
                  Company Name
                </label>
                <select class="form-select ng-pristine ng-valid ng-touched" formControlName="DDlCompanyName" [(ngModel)]="request.CompanyName" (change)="CompanyWiseGetData()">
                  <option value="0" ng-reflect-value="0">--Select--</option>
                  @for (item of CompanyDispatchList; track item) {
                  <option [value]="item.ID">{{item.Name}}</option>
                  }
                </select>
                <div *ngIf="isSubmitted && _DispatchForm.DDlCompanyName.errors" class="text-danger">
                  <p *ngIf="!_DispatchForm.DDlCompanyName.errors.required">
                    <i aria-hidden="true"></i> This field is
                    required.!
                  </p>
                </div>
              </div>


              <div>
                <label for="txtSupplierName" class="text-gray-800 text-sm font-medium inline-block mb-2">Supplier Name:<!--<span class="StarMarking">*</span>--></label>
                <input type="text" class="form-input" id="txtSupplierName" placeholder="Enter Supplier Name" formControlName="txtSupplierName" [(ngModel)]="request.SupplierName" (input)="onInput($event)" [readonly]="true">
                <div *ngIf="isSubmitted && _DispatchForm.txtSupplierName.errors" class="text-danger">
                  <p *ngIf="_DispatchForm.txtSupplierName.errors.required">
                    <i aria-hidden="true"></i> This field is
                    required.!
                  </p>
                </div>
              </div>

              <div>
                <label for="txtSupplierVehicleNo" class="text-gray-800 text-sm font-medium inline-block mb-2">Supplier Vehicle No:<!--<span class="StarMarking">*</span>--></label>
                <input type="text" class="form-input" id="txtSupplierVehicleNo" placeholder="Enter Supplier Vehicle No" formControlName="txtSupplierVehicleNo" [(ngModel)]="request.SupplierVehicleNo" [readonly]="true">
                <div *ngIf="isSubmitted && _DispatchForm.txtSupplierVehicleNo.errors" class="text-danger">
                  <p *ngIf="_DispatchForm.txtSupplierVehicleNo.errors.required">
                    <i aria-hidden="true"></i> This field is
                    required.!
                  </p>
                </div>
              </div>
              <div>
                <label for="txtSupplierMobileNo" class="text-gray-800 text-sm font-medium inline-block mb-2">
                  Supplier Mobile No:
                </label>
                <input type="tel"
                       class="form-input"
                       id="txtSupplierMobileNo"
                       formControlName="txtSupplierMobileNo"
                       placeholder="Enter Supplier Mobile No"
                       maxlength="10"
                       inputmode="numeric"
                       pattern="[0-9]*"
                       required
                       oninput="this.value = this.value.replace(/[^0-9]/g, '').slice(0,10)" [(ngModel)]="request.SupplierMobileNo" [readonly]="true" />

                <div *ngIf="isSubmitted && DispatchForm.controls['txtSupplierMobileNo'].invalid" class="text-danger">
                  <p *ngIf="DispatchForm.controls['txtSupplierMobileNo'].errors?.required">
                    This field is required.!
                  </p>
                  <p *ngIf="DispatchForm.controls['txtSupplierMobileNo'].errors?.pattern">
                    Phone number must be exactly 10 digits.
                  </p>
                </div>
              </div>
             

              <div>
                <label for="txtRecipientName" class="text-gray-800 text-sm font-medium inline-block mb-2">Recipient Name:<!--<span class="StarMarking">*</span>--></label>
                <input type="text" class="form-input" id="txtCompanyName" placeholder="Enter Recipient Name" formControlName="txtRecipientName" [(ngModel)]="request.RecipientName">
                <div *ngIf="isSubmitted && _DispatchForm.txtRecipientName.errors" class="text-danger">
                  <p *ngIf="_DispatchForm.txtRecipientName.errors.required">
                    <i aria-hidden="true"></i> This field is
                    required.!
                  </p>
                </div>
              </div>


              <div>
                <label for="txtRecipientPost" class="text-gray-800 text-sm font-medium inline-block mb-2">Recipient Post:<!--<span class="StarMarking">*</span>--></label>
                <input type="text" class="form-input" id="txtRecipientPost" placeholder="Enter Post" formControlName="txtRecipientPost" [(ngModel)]="request.RecipientPost">
                <div *ngIf="isSubmitted && _DispatchForm.txtRecipientPost.errors" class="text-danger">
                  <p *ngIf="_DispatchForm.txtRecipientPost.errors.required">
                    <i aria-hidden="true"></i> This field is
                    required.!
                  </p>
                </div>
              </div>
              <div>
                <label for="txtRecipientMobileNo" class="text-gray-800 text-sm font-medium inline-block mb-2">
                  Enter Recipient MobileNo:
                </label>
                <input type="tel"
                       class="form-input"
                       id="txtRecipientMobileNo"
                       formControlName="txtRecipientMobileNo"
                       placeholder="Enter Supplier Mobile No"
                       maxlength="10"
                       inputmode="numeric"
                       pattern="[0-9]*"
                       required
                       oninput="this.value = this.value.replace(/[^0-9]/g, '').slice(0,10)" [(ngModel)]="request.RecipientMobileNo" />

                <div *ngIf="isSubmitted && DispatchForm.controls['txtRecipientMobileNo'].invalid" class="text-danger">
                  <p *ngIf="DispatchForm.controls['txtRecipientMobileNo'].errors?.required">
                    This field is required.!
                  </p>
                  <p *ngIf="DispatchForm.controls['txtRecipientMobileNo'].errors?.pattern">
                    Phone number must be exactly 10 digits.
                  </p>
                </div>
              </div>

              <!--<div>
  <label for="txtRecipientMobileNo" class="text-gray-800 text-sm font-medium inline-block mb-2">Recipient MobileNo:-->
              <!--<span class="StarMarking">*</span>-->
              <!--</label>
    <input type="text" class="form-input" id="txtRecipientMobileNo" placeholder="Enter Recipient MobileNo"
           formControlName="txtRecipientMobileNo" [(ngModel)]="request.RecipientMobileNo" maxlength="10"
           oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');">
    <div *ngIf="isSubmitted && _DispatchForm.txtRecipientMobileNo.errors" class="text-danger">
      <p *ngIf="_DispatchForm.txtRecipientMobileNo.errors.required">
        <i aria-hidden="true"></i> This field is
        required.!
      </p>
    </div>
  </div>-->
              <!--<div>
    <label for="txtRecipientDate" class="text-gray-800 text-sm font-medium inline-block mb-2">
      Recipient Date:
    </label>
    <input type="date" class="form-input" id="txtRecipientDate" name="txtRecipientDate" formControlName="txtRecipientDate"
           [(ngModel)]="request.RecipientDate">

    <div *ngIf="isSubmitted && _DispatchForm.txtRecipientDate.errors" class="text-danger">
      <p *ngIf="_DispatchForm.txtRecipientDate.errors.required">
        <i aria-hidden="true"></i> This field is
        required.!
      </p>
    </div>
  </div>-->
            </div>
          </form>
          <div class="flex justify-between items-center flex-wrap mb-3 p-3 py-2 bg-light">
            <b class="text-1xl-5">Dispatch-Group List</b>
          </div>
          <div class="overflow-x-auto mt-3">
            <table class="table table-border w-full table-auto" cellpadding="5">
              <thead class="bg-light/40 border-b border-gray-100 dark:bg-light/5 dark:border-b-gray-700 h-10">
                <tr>
                  <th class="text-left">Sr No</th>
                  <th class="text-left">Group Code</th>
                  <th class="text-left">Institute Name</th>
                  <th class="text-left">Dispatch No</th>
                  <th class="text-left">Dispatch Date</th>
                  <th class="text-left">Status</th>
                </tr>

              </thead>
              <tbody>
                <tr *ngFor="let row of GroupList let idx=index;">
                  <td align="left">{{idx+1}}</td>
                  <td>{{row.GroupCode}}</td>
                  <td>{{row.InstituteNameEnglish}}</td>
                  <td>{{row.DispatchNo}}</td>
                  <td>{{row.DispatchDate}}</td>
                  <td>{{row.ExaminerStatus}}</td>


                  <!--<td>
                    <div class="flex align-center justify-center actionBtns w-auto"
                         style="width:auto !important">
                      <a href="javascript:void(0);" title="Download"><i class="ti ti-download" (click)="DownloadDispatchGroupCertificate(row.DispatchGroupID,row.StaffID)"></i></a>


                    </div>
                  </td>-->
                </tr>
              </tbody>
            </table>

          </div>
          <div class="card-footer text-center">
            <div *ngIf="IsAlready !== true">
              <button type="button" class="btn bg-primary text-white" (click)="SaveData()"><i class="ti ti-device-floppy"></i>Save</button>
              <button type="button" class="btn bg-light text-dark" (click)="ResetControl()"><i class="ti ti-refresh"></i>Reset</button>
            </div>
            </div>
          </div>
      </div>



    </div>
  </div>
</div>


<!--<ng-template #modal_PopUp let-modal class=" h-full fixed top-0 left-0 z-[80] transition-all duration-500 overflow-y-auto [--overlay-backdrop:static] hidden">
  <div class="modal-content">
    <div class="card">





    </div>
  </div>
</ng-template>-->
