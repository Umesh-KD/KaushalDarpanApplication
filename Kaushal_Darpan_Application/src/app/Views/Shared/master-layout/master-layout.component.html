<head>
  <title>Dashboard | DTE</title>
  <meta content="A fully featured admin theme which can be used to build CRM, CMS, etc." name="description">

  <!-- Icons CSS -->
  <link href="/assets/css/icons.min.css" rel="stylesheet" type="text/css">
  <link href="/assets/css/app.css" rel="stylesheet" type="text/css">

 
</head>
<!---->
<div id="app-menu">
  <div class="example-container" [class.example-is-mobile]="isMobile()">
    <!-- Sidenav Container -->
    <mat-sidenav-container class="example-sidenav-container"
                           [style.marginTop.px]="isMobile()">
      <!-- Sidebar: Sidenav (open by default on desktop, toggle on mobile) -->
      <mat-sidenav #snav [mode]="isMobile() ? 'over' : 'side'" [fixedInViewport]="isMobile()" fixedTopGap="56" [opened]="!isMobile()" style="width: 300px;">
        <ng-scrollbar class="position-relative admin-sidebr" style="height: 100%; width: 100%;">
          <div class="top-0 flex h-16 items-center justify-center px-6">
            <!-- Logo Section -->
            @if(this.sSOLoginDataModel && this.sSOLoginDataModel.DepartmentID==_EnumDepartment.ITI)
            {
            <a routerLink="/dashboard" class="flex logoTxt">
              <img src="/assets/images/logo.png" alt="logo" class="flex h-12" />
              <b>DIRECTORATE OF TECHNICAL EDUCATION, RAJASTHAN ITI</b>
            </a>
            }
            @else
            {
            <a routerLink="/dashboard" class="flex logoTxt">
              <img src="/assets/images/logo.png" alt="logo" class="flex h-12" />
              <b>DIRECTORATE OF TECHNICAL EDUCATION, RAJASTHAN</b>
            </a>
            }
          </div>
          <!-- Search Bar -->
          <div class="flex items-center mb-2">
            <input matInput [(ngModel)]="searchTerm" placeholder="Search..." class="form-input" />
          </div>
          <!-- Admin Menu: Main Menu Items -->
          <ul class="admin-menu flex w-full flex-col gap-1.5">
            <li class="menu-item" *ngFor="let item of filteredItems()">
              <a *ngIf="item?.OnSelect" [routerLink]="[parseUrl(item.OnSelect).path]"
                 [queryParams]="parseUrl(item.OnSelect).queryParams"
                 class="group flex items-center gap-x-3.5 rounded-e-full px-4 py-2 text-sm font-medium text-default-700 transition-all hover:bg-default-100 hs-accordion-active:bg-default-100">
                <i class="material-symbols-rounded font-light text-2xl transition-all group-hover:fill-1">{{ isValidMaterialIcon(item.Icon) ? item.Icon : "install_desktop" }} </i>
                <span class="menu-text"> {{item.MenuName}}</span>
              </a>
            </li>
          </ul>

          <!-- Admin Menu: Submenu Items (visible when no search term is entered) -->
          <ul class="admin-menu  flex w-full flex-col gap-1.5" *ngIf="!searchTerm != null && searchTerm == ''">
            <li class="menu-item">
              <a routerLink="/dashboard" (click)="js_SubMenu($event)" class="active group flex items-center gap-x-3.5 rounded-e-full px-4 py-2 text-sm font-medium text-default-700 transition-all hover:bg-default-100 hs-accordion-active:bg-default-100">
                <i class="material-symbols-rounded font-light text-2xl transition-all group-hover:fill-1">dashboard</i>
                <span class="menu-text"> Dashboard</span>
              </a>
            </li>

            <li class="menu-item" *ngIf="this.sSOLoginDataModel.RoleID==_EnumRole.Student">

              <a routerLink="/ApplicationList" (click)="js_SubMenu($event)" class="group flex items-center gap-x-3.5 rounded-e-full px-4 py-2 text-sm font-medium text-default-700 transition-all hover:bg-default-100 hs-accordion-active:bg-default-100">
                <i class="material-symbols-rounded font-light text-2xl transition-all group-hover:fill-1">dashboard</i>
                <span class="menu-text"> Application List</span>
              </a>

            </li>

            <li class="menu-item" *ngIf="this.sSOLoginDataModel.RoleID==_EnumRole.Student && sSOLoginDataModel.DepartmentID!=2">

              <a routerLink="/StudentEnrollmentCancelation" (click)="js_SubMenu($event)" class="group flex items-center gap-x-3.5 rounded-e-full px-4 py-2 text-sm font-medium text-default-700 transition-all hover:bg-default-100 hs-accordion-active:bg-default-100">
                <i class="material-symbols-rounded font-light text-2xl transition-all group-hover:fill-1">dashboard</i>
                <span class="menu-text"> Student Enrollment Cancelation</span>
              </a>

            </li>
            <li class="menu-item" *ngIf="this.sSOLoginDataModel.RoleID==_EnumRole.Emitra">
              <a *ngIf="(this.sSOLoginDataModel.RoleID==_EnumRole.Emitra && this.sSOLoginDataModel.IsKiosk==false) ||
                 (
                 this.sSOLoginDataModel.IsKiosk==true && (

                 this.sSOLoginDataModel.ServiceID==_EnumEmitraService.ITIEmitraFormService ||
                  _EnumEmitraService.BTER_DeplomaENG_Emitra_AppplicationFeeService.toString() == this.sSOLoginDataModel.ServiceID ||
                  _EnumEmitraService.BTER_DeplomaNonENG_Emitra_AppplicationFeeService.toString() == this.sSOLoginDataModel.ServiceID ||
                  _EnumEmitraService.BTER_DeplomaLateral_2ENG_Emitra_AppplicationFeeService.toString() == this.sSOLoginDataModel.ServiceID ||
                  _EnumEmitraService.BTER_DegreeNonENG_Emitra_AppplicationFeeService.toString() == this.sSOLoginDataModel.ServiceID ||
                  _EnumEmitraService.BTER_DegreeLateral_2Year_Emitra_AppplicationFeeService.toString() == this.sSOLoginDataModel.ServiceID
                 )


                 )"
                 routerLink="/ApplicationList" (click)="js_SubMenu($event)" class="group flex items-center gap-x-3.5 rounded-e-full px-4 py-2 text-sm font-medium text-default-700 transition-all hover:bg-default-100 hs-accordion-active:bg-default-100">
                <i class="material-symbols-rounded font-light text-2xl transition-all group-hover:fill-1">dashboard</i>
                <span class="menu-text"> Application List</span>
              </a>
            </li>
            <li class="menu-item" *ngIf="this.sSOLoginDataModel.RoleID==_EnumRole.Emitra">
              <!--<a routerLink="/emitra-fee-trn-history" (click)="js_SubMenu($event)" class="group flex items-center gap-x-3.5 rounded-e-full px-4 py-2 text-sm font-medium text-default-700 transition-all hover:bg-default-100 hs-accordion-active:bg-default-100">
      <i class="material-symbols-rounded font-light text-2xl transition-all group-hover:fill-1">payment</i>
      <span class="menu-text">Payment Transaction History</span>
    </a>-->
              <!--<a routerLink="/application-fees-trn-history" (click)="js_SubMenu($event)" class="group flex items-center gap-x-3.5 rounded-e-full px-4 py-2 text-sm font-medium text-default-700 transition-all hover:bg-default-100 hs-accordion-active:bg-default-100">
      <i class="material-symbols-rounded font-light text-2xl transition-all group-hover:fill-1">payment</i>
      <span class="menu-text">Payment Transaction History</span>
    </a>-->


            </li>

            <!-- Loop through the grouped menu data -->
            <ng-container *ngFor="let menu of groupedMenuData; trackBy: trackIndex">
              <li class="menu-item">
                <a href="javascript:void(0);" (click)="js_SubMenu($event)"
                   class="group flex items-center gap-x-3.5 rounded-e-full px-4 py-2 text-sm font-medium text-default-700 transition-all hover:bg-default-100 hs-accordion-active:bg-default-100">
                  <i class="material-symbols-rounded font-light text-2xl transition-all group-hover:fill-1">{{menu.Icon}}</i>
                  <span class="menu-text w-full flex justify-between items-center"> <span>{{menu.MenuName}}</span> <i class="ti ti-chevron-down"></i></span>
                </a>
                <ul class="MainSubMenu">
                  <ng-container *ngFor="let submenu of menu.children; trackBy: trackIndex">
                    <li>
                      <a class="sub-menu" *ngIf="submenu?.OnSelect" (click)="js_SubMenuActive($event)"
                         [routerLink]="[parseUrl(submenu.OnSelect)?.path]"
                         [queryParams]="parseUrl(submenu.OnSelect)?.queryParams"><i class="ti ti-chevron-right"></i><span>{{submenu.MenuName}}</span></a>
                    </li>
                  </ng-container>
                </ul>
              </li>
            </ng-container>





          
              <li *ngIf="IsJailCollege" class="menu-item">
                <a href="javascript:void(0);" (click)="js_SubMenu($event)"
                   class="group flex items-center gap-x-3.5 rounded-e-full px-4 py-2 text-sm font-medium text-default-700 transition-all hover:bg-default-100 hs-accordion-active:bg-default-100">
                  <i class="material-symbols-rounded font-light text-2xl transition-all group-hover:fill-1">fence</i>
                  <span class="menu-text w-full flex justify-between items-center"> <span>Jail Admission</span> <i class="ti ti-chevron-down"></i></span>
                </a>
                <ul class="MainSubMenu">

                  <li>
                    <a class="sub-menu" (click)="js_SubMenuActive($event)"
                       [routerLink]="['JailAdmissionApply']"><i class="ti ti-chevron-right"></i><span>Apply For Jail Admission</span></a>
                  </li>

                  <li>
                    <a class="sub-menu" (click)="js_SubMenuActive($event)"
                       [routerLink]="['JailAdmissionAllotment',8]"><i class="ti ti-chevron-right"></i><span> 8th Jail Admission</span></a>
                  </li>
                  <li>
                    <a class="sub-menu" (click)="js_SubMenuActive($event)"
                       [routerLink]="['JailAdmissionAllotment10',10]"><i class="ti ti-chevron-right"></i><span> 10th Jail Admission</span></a>
                  </li>
                  <li>
                    <a class="sub-menu" (click)="js_SubMenuActive($event)"
                       [routerLink]="['JailAdmissionAllotment12',12]"><i class="ti ti-chevron-right"></i><span> 12th Jail Admission</span></a>
                  </li>

                </ul>
              </li>
         


          </ul>
        </ng-scrollbar>

      </mat-sidenav>

      <!-- Main Content Area -->
      <mat-sidenav-content>
        <!-- Top Toolbar -->
        <mat-toolbar class="example-toolbar menu-toggle-toolbar">
          <!-- Menu Icon Button to Toggle Sidebar (Left aligned) -->
          <button class="menu-toggle left-align" mat-icon-button (click)="snav.toggle()">
            <mat-icon>menu</mat-icon>
          </button>

          <!-- Spacer to push content to the right -->
          <span class="spacer"></span>



          <mat-form-field class="mt-3" appearance="fill" *ngIf="this.sSOLoginDataModel.RoleID == _EnumRole.HostelWarden || this.sSOLoginDataModel.RoleID == _EnumRole.HostelWardenITINCVT || this.sSOLoginDataModel.RoleID == _EnumRole.HostelWardenITISCVT" style="width: 20%; max-width: 240px;margin-right:10px">
            <mat-label>Hostel Name</mat-label>
            <mat-select [(ngModel)]="HostelID" name="HostelID" (selectionChange)="LoadByFYYearDDL()">
              <mat-option *ngFor="let item of MultiHostelWardenRoleList; trackBy: trackItem" [value]="item.HostelID">
                <b>{{item.HostelName }}</b> &nbsp;<span style="font-size:12px;">({{item.HostelName}})</span>
              </mat-option>
            </mat-select>
          </mat-form-field>



          <!-- College Name (Visible for specific roles) -->
          <mat-form-field class="mt-3 mx-2" id="InstituteName" appearance="fill" *ngIf="sSOLoginDataModel.InstituteID !== 0"
                          style="width: 35%; max-width: 240px;">
            <mat-label>College Name</mat-label>

            <input [disabled]="true" style="font-weight: bold;" class="text-xs" matInput [(ngModel)]="InstituteName" name="InstituteName">
          </mat-form-field>


          <!--// Session Type new added 05082025-->
          <mat-form-field class="mt-3" appearance="fill" style="width: 20%; max-width: 240px;margin-right:10px" *ngIf="sSOLoginDataModel.ShowSessionSelection == 1">
            <mat-label>Session Type</mat-label>
            <mat-select [(ngModel)]="SessionTypeID" name="SessionTypeID" (selectionChange)="DDLSessionTypeChange(SessionTypeID)">
              <mat-option [value]="1"><b>Admission Year</b> &nbsp;</mat-option>
              <mat-option [value]="2"><b>Examination</b> &nbsp;</mat-option>
            </mat-select>
          </mat-form-field>

          <!--*ngIf="this.sSOLoginDataModel.RoleID == _EnumRole.ITIPrincipal"-->
          <!-- Academic Year Dropdown (Visible for specific roles) -->
          <mat-form-field class="mt-3 mr-3" id="divAcademicYear" appearance="fill" *ngIf="this.sSOLoginDataModel && this.sSOLoginDataModel.RoleID!=_EnumRole.Student && this.sSOLoginDataModel.RoleID!=_EnumRole.Emitra" style="width: 20%; max-width: 240px;">
            <mat-label>Academic Year</mat-label>
            <mat-select [(ngModel)]="EndTermID" name="EndTermID" (selectionChange)="LoadByFYYearDDL()">
              <mat-option *ngFor="let item of lstAcedmicYear; trackBy: trackItem" [value]="item.EndTermID">
                <b>{{item.EndTermName }}</b> &nbsp;<span style="font-size:12px;">({{item.FinancialYearName}})</span>
              </mat-option>
            </mat-select>
          </mat-form-field>

          <!-- Role Dropdown -->
          <mat-form-field class="mt-3 RoleID" appearance="fill">
            <mat-label>Role</mat-label>
            <mat-select [(ngModel)]="RoleID" name="RoleID" (selectionChange)="loadMenuByRoleID($event.value)">
              <mat-option *ngFor="let item of lstUserRole; trackBy: tracklstUserRoleItem" [value]="item.RoleID">
                {{ item.RoleName }}
              </mat-option>
            </mat-select>
          </mat-form-field>


          <!-- Profile Avatar with Dropdown -->
          <button mat-icon-button [matMenuTriggerFor]="menu" class="profile">
            <img src="/assets/images/users/avatar-6.jpg" alt="user-image" class="rounded-full h-15 mr-1" />
            <span class="md:flex items-center hidden">
              <h5 class="text-base">{{ sSOLoginDataModel['SSOID'] }}</h5>
              <mat-icon>arrow_drop_down</mat-icon> <!-- Dropdown arrow icon -->
            </span>
          </button>

          <!-- Dropdown Menu for Profile -->
          <mat-menu #menu="matMenu">
            <button mat-menu-item (click)="BackToSSOButton()">
              <mat-icon>arrow_back</mat-icon>
              Back to SSO
            </button>
            <mat-divider></mat-divider>
            <button mat-menu-item routerLink="profile">
              <mat-icon>person</mat-icon>
              Profile
            </button>
            <mat-divider></mat-divider>
            <button mat-menu-item (click)="BackToSSOButton()">
              <mat-icon>logout</mat-icon>
              Sign out
            </button>
          </mat-menu>
        </mat-toolbar>

        <main class="flex-grow p-3">
          <router-outlet></router-outlet>

          <!-- Session Expired Modal -->
          <ng-template #mymodalSessionExpired let-modal class="w-full h-full fixed top-0 left-0 z-[80] transition-all duration-500 overflow-y-auto [--overlay-backdrop:static] hidden">
            <div class="modal-content">
              <div class="card">
                <div class="card-header flex justify-between align-center">
                  <b><i class="fa fa-plus"></i>&nbsp;Session Expired</b>
                </div>
                <div class="card-body">
                  User session invalid. Please try login after some time.
                  <div class="row m-2">
                    <div class="col-md-12">
                      <button type="button" id="btnOk" class="btn btn-primary" (click)="btnOk()" title="Submit">OK</button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </ng-template>
        </main>


      </mat-sidenav-content>
    </mat-sidenav-container>
    <!-- Footer -->
    <footer class="footer h-6 flex items-center px-6 bg-white border-t border-gray-200 shadow">
      <div class="flex md:justify-center justify-center w-full gap-4">
        <div style="font-size:12px;">
          <script>document.write(new Date().getFullYear())</script> © DIRECTORATE OF TECHNICAL EDUCATION, RAJASTHAN
        </div>
      </div>
    </footer>
  </div>
</div>
